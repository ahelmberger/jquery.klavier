/*! jquery.klavier - v0.9.0 - 2014-02-16
* https://github.com/learningmedia/jquery.klavier
* Copyright (c) 2014 Andreas Helmberger & Ulrich Kaiser; Licensed MIT */
(function(e,t){var r=0,i=120,s=.6,n=.6,a="klavier",o=[1,3,6,8,10],h=function(e,t){e.css("position","relative").addClass(t.cssPrefix+"-container")},l=function(t,r){var i,a,o=y.getWhiteKeyCount(r.startKey,r.endKey),h=t.innerWidth()/o,l=s*h,d=t.innerHeight(),f=n*d,u=0;for(a=r.startKey;r.endKey>=a;a++)i=y.isBlackKey(a),e("<div></div>").css({position:"absolute",width:(i?l:h)+"px",height:(i?f:d)+"px",top:"0px",left:(i?u-l/2:u)+"px",zIndex:i?r.zIndex+1:r.zIndex}).addClass(r.cssPrefix+"-key").addClass(r.cssPrefix+(i?"-black-key":"-white-key")).appendTo(t),i||(u+=h)},y=function(t,r){this.options=e.extend({},y.defaults,r),this.$el=e(t),this.$el.data(a,this),h(this.$el,this.options),l(this.$el,this.options)};y.prototype.destroy=function(){this.$el.removeData(a),this.$el.removeClass(this.options.cssPrefix+"-container"),this.$el.off("."+a),this.$el.empty(),this.$el=null},y.getOrCreate=function(t,r){return e(t).data(a)||new y(t,r)},y.isBlackKey=function(e){var t=e%12;return-1!==o.indexOf(t)},y.getWhiteKeyCount=function(e,t){var r,i=0;for(r=e;t>=r;r++)y.isBlackKey(r)||(i+=1);return i},y.validateOptions=function(e){if(e.endKey<=e.startKey)throw Error("The end key must be greater than the start key.");if(r>e.startKey||e.endKey>i)throw Error("The key values must be grater than or equal to "+r+" and less than or euqal to "+i+".");if(y.isBlackKey(e.startKey))throw Error("The keyboard has to start with a white key.");if(y.isBlackKey(e.endKey))throw Error("The keyboard has to end with a white key.")},y.defaults={startKey:60,endKey:71,cssPrefix:"klavier",zIndex:999},e.fn.klavier=function(e){var r=Array.prototype.slice(arguments,1);if("string"==typeof e){var i=this.map(function(){var t=y.getOrCreate(this);return t[e].apply(t,Array.prototype.slice(r))}).get();return i.length?i[0]:t}return this.each(function(){y.getOrCreate(this,e)})},e.fn.klavier.defaults=y.defaults,e.fn.klavier._constructor=y})(jQuery);